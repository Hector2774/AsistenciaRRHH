{% extends 'layouts/base.html' %}
{% load static %}<!-- Reusa estilos del admin -->



{% block content %}
<link rel="stylesheet" href="{% static 'styles/main.css' %}">

<div class="global-container">

    
    <h1>Empleados Registrados PROMACO</h1>

    <div class="acciones">
        <button id="sync-btn">Sincronizar Empleados</button>
        <span id="sync-status"></span>
      
      
</div>

<form method="get">
    <select name="departamento" onchange="this.form.submit()">
        <option value="">Departamentos</option>
        {% for depto in departamentos %}
        <option value="{{ depto }}" {% if depto == departamento_seleccionado %}selected{% endif %}>
          {{ depto }}
        </option>
        {% endfor %}
    </select>
    
    
</form>

   

    <div class="table-container">
        <table class="tabla-asis" id="tabla-empleados">
            <thead>
                <tr>
                    
                    <th>Sucursal</th>
                    <th>Codigo Empleado</th>
                    <th>Empleado</th>
                    <th>Departamento</th>
                </tr>
            </thead>
            
                {% for e in empleados %}
                <tr>
                  
                    <td>{{e.sucursal.nombre}}</td>
                    <td>{{e.codigo}}</td>
                    <td>{{e.nombre}}</td>
                    
                    <td>{{e.departamento}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
</div>

<script src="{% static 'scripts/script.js' %}"></script>

{% endblock %}